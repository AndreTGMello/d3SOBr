<!DOCTYPE html>
<meta charset="utf-8">
<html>
  <head>
	<script src="lib/jquery/jquery.min.js"></script>
    <script src="lib/d3/d3.v3.min.js"></script>
    <script src="d3sparql.js"></script>
	<link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.css"/>
    <style>
		.bar:hover {
		fill: brown;
		}
    </style>
	<script>
		function loadframe(html) {
			$("#iframedois").attr("src", html)
			//.load(function() {
			//  $(this).css("height", $(this).contents().height() + 100 + "px")
			//})
		$(window).scrollTop(0)
		}
	</script>
  </head>
  <body>
    <div id="query" style="margin: 10px">
      <h1>Visualização de Orçamentos do Brasil</h1>
	  <p>Escolha uma forma de visualização dos dados
	  <select id="mySelect">
		<option>barchart</option>
		<option>circlepack</option>
		<option>coordmap</option>
		<option>dendrogram</option>
		<option>forcegraph</option>
		<option>htmlhash</option>
		<option>htmltable</option>
		<option>namedmap</option>
		<option>piechart</option>
		<option>roundtree</option>
		<option>sankey</option>
		<option>scatterplot</option>
		<option>sunburst</option>
		<option>treemap</option>
		<option>treemapzoom</option>
	  </select></p>
	  
	<p>Escolha um estado:
	<select id="mySelectDois"></select></p>
	
	<p>Escolha um tipo de investimento:
	<select id="mySelectTres"></select></p>
	
	<p>Escolha o órgão desejado:
	<select id="mySelectQuatro"></select></p>
	
	<script>
		function opcaoEscolhida(){
			var posicao = document.getElementById("mySelect").selectedIndex;
			var opcao = document.getElementById("mySelect").options;
			return opcao[posicao].text
		}
		
		function abrePagina(){
			nomePagina = opcaoEscolhida();
			nomePagina = "d3sparql-" + nomePagina + ".html";
			//alert(nomePagina)
			return nomePagina;
		}
	</script>
	
	<button><a class="brand" href="javascript:loadframe(abrePagina())"><i class="icon-th"></i>ENVIAR DADOS</a></button>
	 
	<iframe id="iframedois" width="100%" height="1000" frameborder="0" seamless></iframe>
	
	<form class="form-inline">
        <label>SPARQL endpoint:</label>
        <div class="input-append">
          <input id="endpoint" class="span5" type="text">
		  
          <button class="btn" type="button" onclick="exec()">Query</button>
          <button class="btn" type="button" onclick="exec_offline()">Use cache</button>
        </div>
      </form>
      <textarea id="sparql" class="span9" rows=15>

      </textarea>
    </div>
    <div id="result"></div>
  </body>
</html>
